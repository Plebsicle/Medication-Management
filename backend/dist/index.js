"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = __importDefault(require("express"));
const cors_1 = __importDefault(require("cors"));
const signup_1 = __importDefault(require("./routes/signup"));
const signin_1 = __importDefault(require("./routes/signin"));
const emailVerification_1 = __importDefault(require("./routes/emailVerification"));
const isverified_1 = __importDefault(require("./routes/isverified"));
const manualEmail_1 = __importDefault(require("./routes/manualEmail"));
const addMedication_1 = __importDefault(require("./routes/addMedication"));
const verifyToken_1 = __importDefault(require("./routes/verifyToken"));
const toggleNotification_1 = __importDefault(require("./routes/toggleNotification"));
const deleteMedication_1 = __importDefault(require("./routes/deleteMedication"));
const medicationHistory_1 = __importDefault(require("./routes/medicationHistory"));
const serveProfile_1 = __importDefault(require("./routes/serveProfile"));
const profilePhoto_1 = __importDefault(require("./routes/profilePhoto"));
const path_1 = __importDefault(require("path"));
const hospitalLocation_1 = __importDefault(require("./routes/hospitalLocation"));
const healthRecords_1 = __importDefault(require("./routes/healthRecords"));
const medicationDetails_1 = __importDefault(require("./routes/medicationDetails"));
const medicationChanges_1 = __importDefault(require("./routes/medicationChanges"));
const subscribe_1 = __importDefault(require("./routes/subscribe"));
const forgetPassword_1 = __importDefault(require("./routes/forgetPassword"));
const web_push_1 = __importDefault(require("web-push"));
const schedule_1 = __importDefault(require("./_utilities/schedule"));
const app = (0, express_1.default)();
web_push_1.default.setVapidDetails('mailto:your-email@example.com', process.env.VAPID_PUBLIC_KEY, process.env.VAPID_PRIVATE_KEY);
app.use((0, cors_1.default)());
app.use(express_1.default.json());
app.use('/signup', signup_1.default);
app.use('/signin', signin_1.default);
app.use('/verifyEmail', emailVerification_1.default);
app.use('/isverified', isverified_1.default);
app.use('/manualEmail', manualEmail_1.default);
app.use('/addMedication', addMedication_1.default);
app.use('/verifyToken', verifyToken_1.default);
app.use('/toggleNotification', toggleNotification_1.default);
app.use('/deleteMedication', deleteMedication_1.default);
app.use('/medicationHistory', medicationHistory_1.default);
app.use('/serveProfile', serveProfile_1.default);
app.use('/profilePhoto', profilePhoto_1.default);
app.use('/hospitalLocation', hospitalLocation_1.default);
app.use('/healthRecords', healthRecords_1.default);
app.use('/medications', medicationDetails_1.default);
app.use('/editMedications', medicationChanges_1.default);
app.use('/forgetPassword', forgetPassword_1.default);
app.use('/', subscribe_1.default);
(0, schedule_1.default)();
app.use('/uploads', express_1.default.static(path_1.default.join(__dirname, 'uploads')));
const PORT = 8000;
app.listen(PORT, () => {
    console.log(`Server is running on port ${PORT}`);
});
